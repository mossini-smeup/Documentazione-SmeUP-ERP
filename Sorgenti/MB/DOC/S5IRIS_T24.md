
# Generalità
Questa strategia (di velocizzazione) si applica, sotto certe condizioni, nel processo di scelta del miglior dettaglio.
È interessante descriverla, in quanto mette in evidenza l'apporto alla schedulazione che danno le RSV.

# Ottimizzazione
Io mi sono fatto la rappresentazione che esse costituiscano un'altra dimensione (diciamo perpendicolare) alla saturazione delle risorse primarie (principali o specifiche).
La strategia event based richiede che la schedulazione proceda rigorosamente avanzando nel tempo :  si sceglie il dettaglio che può essere eseguito prima :  l'istante al più presto (IPP), dato dal maggiore tra la disponibilità della risorsa e il vincolo al più presto (VPP) del dettaglio.
È necessario quindi esaminare tutti i dettagli degli impegni pronti per scegliere il più "precoce". Ma se in un gruppo tutti gli impegni non schedulati sono pronti, è possibile, durante il processo di selezione, analizzare solo i dettagli di quel gruppo, e scegliere via via il più precoce fino ad esaurire il gruppo, con notevole risparmio di tempo. Questa, che costituisce una violazione dell'event based, in realtà è ininfluente, perché, in assenza di RSV, l'unica dimensione è l'asse del tempo delle risorse del gruppo che avanzano nel tempo. È vero che c'è una fuga in avanti nella datazione delle risorse di quel gruppo :  si selezionano prima dettagli che in un event based puro sarebbero stati presi in considerazione solo successivamente. Ma il risultato complessivo della schedulazione è identico. Ciò non accadrebbe se non tutti gli impegni del gruppo fossero stati pronti. Non è possibile trascurarli, ed esaurire solo gli impegni pronti del gruppo, escludendo quelli non pronti, in quanto potrebbe darsi che il loro IPP, una volta pronti, sia minore di quello degli impegni già schedulati, e quindi sarebbero stati scelti prima di questi ultimi, col risultato di una schedulazione non ottimizzata. NB :  la schedulazione sarebbe comunque fattibile :  la BCD non produce mai schedulazioni infattibili, che violano i vincoli hard (di risorsa principale o RSV) ma non ottimizzate per priorità e/o saturazione. Questa rinuncia all'ottimizzazione può essere ottenuta (consciamente) sia alterando manualmente l'ordine dei dettagli, sia implementando strategie di tiro e spinta per ottenere altri vantaggi. (Ricordo che il calcolo dell'attrezzaggio effettivo, per motivi di prestazioni, viene eseguito a posteriori, solo sul dettaglio schedulato, e quindi una strategia di tiro potrebbe risultare comunque più efficiente, dato che il suo scopo primario è la comunanza di caratteristiche tra gli impegni tiranti e tirati e quindi, in definitiva, la riduzione dell'attrezzaggio. Una strategia rigorosa dovrebbe avanzare l'IPP da considerare del tempo di attrezzaggio effettivo, diverso per ogni dettaglio).
Ricordo che un'ottimizzazione simile (di considerazione di un solo gruppo) avviene anche per la parte congelata della coda. Quando il primo dettaglio congelato è pronto, viene immediatamente schedulato, e si prosegue con i successivi, fino a trovarne uno non pronto o ad esaurire la coda dei congelati. Appena il dettaglio diventa pronto, viene schedulato e il processo riprende fino a raggiungere una nuova situazione di blocco.
Tecnicamente l'ottimizzazione dei gruppi interviene nel programma di selezione (S5SMES_11E).
Si esegue un loop di tutti i gruppi e per, ciascuno di essi, si scandiscono i dettagli dell'impegni pronti.
Ma se l'ottimizzazione dei gruppi è attiva (vedremo in seguito sotto che condizioni) prima del loop dei gruppi, viene lanciato il programma S5SMES_64, che ritorna, se presente, il puntatore £A04 di un gruppo con tutti gli impegni residui pronti. Il loop della scelta del miglior dettaglio sarà ristretto ai dettagli di quel gruppo. Questo programma è una mongolfiera che estende orizzontalmente l'anagrafica gruppi (DSANGR) ed è chiamato in inizializzazione da S5SMES_06, in ritorno da S5SMES_11E e in aggiornamento da S5SMES_13. È possibile, tramite l'exit S5SMX_18x, escludere alcuni gruppi dall'ottimizzazione, all'atto dell'inizializzazione. È stata realizzata l'exit standard S5SMX_181 che esclude tutti i gruppi dall'ottimizzazione.
Il motivo dell'esclusione nasce essenzialmente dalla presenza delle RSV che introducono una dimensione diversa dalla saturazione delle risorse principali. Una stessa RSV normalmente appartiene a impegni di risorse principali diverse, e quindi bisogna sempre tener conto anche del suo vincolo per determinare l'IPP di ogni dettaglio. Non è sufficiente procedere (come si farebbe con l'ottimizzazione dei gruppi attiva) analizzando i soli dettagli di un gruppo totalmente pronto, in quanto li si privilegerebbe, nell'uso delle RSV, rispetto a dettagli degli altri gruppi, oltre ad utilizzare le RSV in modo "sparpagliato".
Per questo motivo, l'ottimizzazione viene esclusa in automatico, per tutti i gruppi, in presenza di RSV (sia standard dia personale, impostando questa informazione nei parametri di esecuzione). Viene inoltre data possibilità nella exit di operare esclusioni di gruppi mirate, in caso di strategie particolari.





